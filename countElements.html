<!doctype html>
<style>
button {
      width: 50px;
      height: 40px;
    }
p1 {
	padding: 5px 5px 0px 21px;
    font-size: 10pt;
    font-family: monospace;
    }
.tooltip {
      position: fixed;
      padding: 10px 20px;
      border: 1px solid #b3c9ce;
      border-radius: 4px;
      text-align: center;
      font: italic 14px/1.3 sans-serif;
      color: #333;
      background: #fff;
      box-shadow: 3px 3px 3px rgba(0, 0, 0, .3);
    }
</style>
<html>
     <head>
          <title>Count Things</title>
     </head>
     <script>
    let tooltipElem;

    document.onmouseover = function(event) {
      let target = event.target;

      // если у нас есть подсказка...
      let tooltipHtml = target.dataset.tooltip;
      if (!tooltipHtml) return;

      // ...создадим элемент для подсказки

      tooltipElem = document.createElement('div');
      tooltipElem.className = 'tooltip';
      tooltipElem.innerHTML = tooltipHtml;
      document.body.append(tooltipElem);

      // спозиционируем его сверху от аннотируемого элемента (top-center)
      let coords = target.getBoundingClientRect();

      let left = coords.left + (target.offsetWidth - tooltipElem.offsetWidth) / 2;
      if (left < 0) left = 0; // не заезжать за левый край окна

      let top = coords.top - tooltipElem.offsetHeight - 5;
      if (top < 0) { // если подсказка не помещается сверху, то отображать её снизу
        top = coords.top + target.offsetHeight + 5;
      }

      tooltipElem.style.left = left + 'px';
      tooltipElem.style.top = top + 'px';
    };

    document.onmouseout = function(e) {

      if (tooltipElem) {
        tooltipElem.remove();
        tooltipElem = null;
      }

    };
     </script>
     <script>
           	 counters = [];
             const spacePad = (num, places) => String(num).padStart(places, '0')
             const rows = 15;
             const cols = 30;
             var p_text;
             var t1;
                function printBtn() {
                p_text = document.createElement("p1");
                t1 = document.createTextNode("   ");
                p_text.appendChild(t1);
                document.body.appendChild(p_text);
                    for (var i = 0; i < rows; i++) {
                       var number = i*cols;
                       const p = document.createElement("p");
                       var t2 = document.createTextNode(spacePad(number,3));
                       p.appendChild(t2);
                    for (var j = 0; j < cols; j++) {
                       counters.push(0)
                       if (!i) {p_text = document.createElement("p1")}
                       number = i*cols + j + 1;
                        if (!i) {t1 = document.createTextNode(spacePad(number,3));p_text.appendChild(t1);document.body.appendChild(p_text);}
                       var btn = document.createElement("button");
                       btn.setAttribute('id',number.toString())
                      // var t = document.createTextNode(counters[number-1].toString());
                      // btn.appendChild(t);
                      btn.innerText = 0;
                      btn.setAttribute('data-tooltip',number.toString());
                      btn.addEventListener("click", function(event) {
  			    var index = event.target.id-1;
  			    counters[index] = counters[index] + 1;
  			    var button = document.getElementById(event.target.id)
  			    button.innerText = counters[index]
  			    button.style.backgroundColor = 'green';
                button.style.color = 'white';
  			});                    
  			p.appendChild(btn)
                       }
                        document.body.appendChild(p)
                    }
                }
                
                window.onload = printBtn
      </script>  
     <body>
           
     </body>
</html>
